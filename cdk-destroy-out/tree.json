{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.236.0"},"children":{"CCNativeStack":{"id":"CCNativeStack","path":"CCNativeStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"EvidenceLedgerBucket":{"id":"EvidenceLedgerBucket","path":"CCNativeStack/EvidenceLedgerBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/EvidenceLedgerBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"cc-native-evidence-ledger-661268174397-us-west-2","versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CCNativeStack/EvidenceLedgerBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/EvidenceLedgerBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"EvidenceLedgerBucket3A5BFB25"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"WorldStateSnapshotsBucket":{"id":"WorldStateSnapshotsBucket","path":"CCNativeStack/WorldStateSnapshotsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/WorldStateSnapshotsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"cc-native-world-state-snapshots-661268174397-us-west-2","versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CCNativeStack/WorldStateSnapshotsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/WorldStateSnapshotsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WorldStateSnapshotsBucket7B77A435"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["WorldStateSnapshotsBucket7B77A435","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WorldStateSnapshotsBucket7B77A435","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"SchemaRegistryBucket":{"id":"SchemaRegistryBucket","path":"CCNativeStack/SchemaRegistryBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SchemaRegistryBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"cc-native-schema-registry-661268174397-us-west-2","versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CCNativeStack/SchemaRegistryBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SchemaRegistryBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"SchemaRegistryBucketAD895CE8"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["SchemaRegistryBucketAD895CE8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SchemaRegistryBucketAD895CE8","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"ArtifactsBucket":{"id":"ArtifactsBucket","path":"CCNativeStack/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"cc-native-artifacts-661268174397-us-west-2","versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CCNativeStack/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ArtifactsBucket2AAC5544"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["ArtifactsBucket2AAC5544","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtifactsBucket2AAC5544","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"LedgerArchivesBucket":{"id":"LedgerArchivesBucket","path":"CCNativeStack/LedgerArchivesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/LedgerArchivesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"cc-native-ledger-archives-661268174397-us-west-2","versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CCNativeStack/LedgerArchivesBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/LedgerArchivesBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"LedgerArchivesBucket5FE74194"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["LedgerArchivesBucket5FE74194","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LedgerArchivesBucket5FE74194","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"WorldStateTable":{"id":"WorldStateTable","path":"CCNativeStack/WorldStateTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/WorldStateTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"entityType-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-world-state"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/WorldStateTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"EvidenceIndexTable":{"id":"EvidenceIndexTable","path":"CCNativeStack/EvidenceIndexTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/EvidenceIndexTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"entityType-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-evidence-index"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/EvidenceIndexTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"SnapshotsIndexTable":{"id":"SnapshotsIndexTable","path":"CCNativeStack/SnapshotsIndexTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SnapshotsIndexTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"entityType-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-snapshots-index"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/SnapshotsIndexTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"SchemaRegistryTable":{"id":"SchemaRegistryTable","path":"CCNativeStack/SchemaRegistryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SchemaRegistryTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-schema-registry"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/SchemaRegistryTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"CriticalFieldRegistryTable":{"id":"CriticalFieldRegistryTable","path":"CCNativeStack/CriticalFieldRegistryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/CriticalFieldRegistryTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-critical-field-registry"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/CriticalFieldRegistryTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"AccountsTable":{"id":"AccountsTable","path":"CCNativeStack/AccountsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/AccountsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"accountId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"accountId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-accounts"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/AccountsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"SignalsTable":{"id":"SignalsTable","path":"CCNativeStack/SignalsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SignalsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"signalId","attributeType":"S"},{"attributeName":"accountId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"accountId-index","keySchema":[{"attributeName":"accountId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"signalId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-signals"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/SignalsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"ToolRunsTable":{"id":"ToolRunsTable","path":"CCNativeStack/ToolRunsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/ToolRunsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"traceId","attributeType":"S"},{"attributeName":"toolRunId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"traceId","keyType":"HASH"},{"attributeName":"toolRunId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-tool-runs"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/ToolRunsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"ApprovalRequestsTable":{"id":"ApprovalRequestsTable","path":"CCNativeStack/ApprovalRequestsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/ApprovalRequestsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"requestId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"requestId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-approval-requests"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/ApprovalRequestsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"ActionQueueTable":{"id":"ActionQueueTable","path":"CCNativeStack/ActionQueueTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/ActionQueueTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"actionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"actionId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-action-queue"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/ActionQueueTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"PolicyConfigTable":{"id":"PolicyConfigTable","path":"CCNativeStack/PolicyConfigTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PolicyConfigTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"policyId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"policyId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-policy-config"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/PolicyConfigTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"LedgerTable":{"id":"LedgerTable","path":"CCNativeStack/LedgerTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/LedgerTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"},{"attributeName":"gsi2pk","attributeType":"S"},{"attributeName":"gsi2sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"gsi1-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"gsi2-index","keySchema":[{"attributeName":"gsi2pk","keyType":"HASH"},{"attributeName":"gsi2sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-ledger"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/LedgerTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"CacheTable":{"id":"CacheTable","path":"CCNativeStack/CacheTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/CacheTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"cacheKey","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"cacheKey","keyType":"HASH"}],"tableName":"cc-native-cache","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/CacheTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"TenantsTable":{"id":"TenantsTable","path":"CCNativeStack/TenantsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/TenantsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-tenants"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/TenantsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"MethodologyTable":{"id":"MethodologyTable","path":"CCNativeStack/MethodologyTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/MethodologyTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-status-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-methodology"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/MethodologyTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"AssessmentTable":{"id":"AssessmentTable","path":"CCNativeStack/AssessmentTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/AssessmentTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"opportunity-methodology-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-assessment"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/AssessmentTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"IdentitiesTable":{"id":"IdentitiesTable","path":"CCNativeStack/IdentitiesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/IdentitiesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-identities"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/IdentitiesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"CCNativeEventBus":{"id":"CCNativeEventBus","path":"CCNativeStack/CCNativeEventBus","constructInfo":{"fqn":"aws-cdk-lib.aws_events.EventBus","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/CCNativeEventBus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnEventBus","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::EventBus","aws:cdk:cloudformation:props":{"name":"cc-native-events"}}}}},"TenantEncryptionKey":{"id":"TenantEncryptionKey","path":"CCNativeStack/TenantEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/TenantEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for tenant data encryption","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::661268174397:root"},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"AgentRole":{"id":"AgentRole","path":"CCNativeStack/AgentRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/AgentRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":["bedrock.amazonaws.com","lambda.amazonaws.com"]}}],"Version":"2012-10-17"},"description":"Read-only IAM role for autonomous agents (World Model read access only)","roleName":"cc-native-agent-role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/AgentRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/AgentRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:GetItem","dynamodb:Query","dynamodb:Scan"],"Condition":{"StringEquals":{"dynamodb:ReadConsistency":"eventual"}},"Effect":"Allow","Resource":"arn:aws:dynamodb:us-west-2:661268174397:table/cc-native-*"},{"Action":"s3:GetObject","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:s3:::",{"Ref":"EvidenceLedgerBucket3A5BFB25"},"/evidence/*"]]},{"Fn::Join":["",["arn:aws:s3:::",{"Ref":"WorldStateSnapshotsBucket7B77A435"},"/snapshots/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:PutItem","dynamodb:UpdateItem","s3:DeleteObject","s3:PutObject","s3:PutObjectAcl"],"Effect":"Deny","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AgentRoleDefaultPolicy1027F5D2","roles":[{"Ref":"AgentRoleF4A42D6B"}]}}}}}}},"UserPool":{"id":"UserPool","path":"CCNativeStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":12,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"cc-native-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"WebClient":{"id":"WebClient","path":"CCNativeStack/UserPool/WebClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/UserPool/WebClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"cc-native-web-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"preventUserExistenceErrors":"ENABLED","supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"NeptuneInfrastructure":{"id":"NeptuneInfrastructure","path":"CCNativeStack/NeptuneInfrastructure","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"CCNativeVpc":{"id":"CCNativeVpc","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"cc-native-vpc"}]}}},"NeptuneIsolatedSubnet1":{"id":"NeptuneIsolatedSubnet1","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"NeptuneIsolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"Acl":{"id":"Acl","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1RouteTable23335C61"},"subnetId":{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"}}}}}},"NeptuneIsolatedSubnet2":{"id":"NeptuneIsolatedSubnet2","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.236.0"},"children":{"Subnet":{"id":"Subnet","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"NeptuneIsolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"Acl":{"id":"Acl","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"RouteTable":{"id":"RouteTable","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/NeptuneIsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2RouteTable41D2F6EF"},"subnetId":{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}}}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.236.0"},"children":{"Default":{"id":"Default","path":"CCNativeStack/NeptuneInfrastructure/CCNativeVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}}}},"VPCFlowLogGroup":{"id":"VPCFlowLogGroup","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/vpc/cc-native-flow-logs","retentionInDays":30}}}}},"VPCFlowLogRole":{"id":"VPCFlowLogRole","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"vpc-flow-logs.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for VPC Flow Logs"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLogRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:DescribeLogGroups","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["VPCFlowLogGroup","Arn"]}}],"Version":"2012-10-17"},"policyName":"NeptuneInfrastructureVPCFlowLogRoleDefaultPolicy402D435E","roles":[{"Ref":"NeptuneInfrastructureVPCFlowLogRole52BBBE1D"}]}}}}}}},"VPCFlowLog":{"id":"VPCFlowLog","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.FlowLog","version":"2.236.0"},"children":{"FlowLog":{"id":"FlowLog","path":"CCNativeStack/NeptuneInfrastructure/VPCFlowLog/FlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnFlowLog","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::FlowLog","aws:cdk:cloudformation:props":{"deliverLogsPermissionArn":{"Fn::GetAtt":["NeptuneInfrastructureVPCFlowLogRole52BBBE1D","Arn"]},"logDestinationType":"cloud-watch-logs","logGroupName":{"Ref":"VPCFlowLogGroup"},"resourceId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"},"resourceType":"VPC","tags":[{"key":"Name","value":"CCNativeStack/NeptuneInfrastructure/VPCFlowLog"}],"trafficType":"ALL"}}}}},"NeptuneAuditLogGroup":{"id":"NeptuneAuditLogGroup","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAuditLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAuditLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/neptune/cluster/cc-native-neptune-cluster/audit","retentionInDays":30}}}}},"NeptuneLogsRole":{"id":"NeptuneLogsRole","path":"CCNativeStack/NeptuneInfrastructure/NeptuneLogsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneLogsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"rds.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for Neptune to write audit logs to CloudWatch"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/NeptuneInfrastructure/NeptuneLogsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneLogsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["NeptuneAuditLogGroup","Arn"]}}],"Version":"2012-10-17"},"policyName":"NeptuneInfrastructureNeptuneLogsRoleDefaultPolicyB8D02316","roles":[{"Ref":"NeptuneInfrastructureNeptuneLogsRole6C0E7822"}]}}}}}}},"NeptuneSecurityGroup":{"id":"NeptuneSecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/NeptuneSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Neptune cluster (VPC-only access)","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"from CCNativeStackNeptuneInfrastructureGraphMaterializerSecurityGroup2826C302:8182":{"id":"from CCNativeStackNeptuneInfrastructureGraphMaterializerSecurityGroup2826C302:8182","path":"CCNativeStack/NeptuneInfrastructure/NeptuneSecurityGroup/from CCNativeStackNeptuneInfrastructureGraphMaterializerSecurityGroup2826C302:8182","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Gremlin connections from graph-materializer Lambda","fromPort":8182,"groupId":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneSecurityGroup4DAE2150","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["NeptuneInfrastructureGraphMaterializerSecurityGroupE324FDAD","GroupId"]},"toPort":8182}}},"from CCNativeStackNeptuneInfrastructureSynthesisEngineSecurityGroup3BB6D47F:8182":{"id":"from CCNativeStackNeptuneInfrastructureSynthesisEngineSecurityGroup3BB6D47F:8182","path":"CCNativeStack/NeptuneInfrastructure/NeptuneSecurityGroup/from CCNativeStackNeptuneInfrastructureSynthesisEngineSecurityGroup3BB6D47F:8182","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Gremlin connections from synthesis-engine Lambda","fromPort":8182,"groupId":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneSecurityGroup4DAE2150","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["NeptuneInfrastructureSynthesisEngineSecurityGroup862BB426","GroupId"]},"toPort":8182}}}}},"GraphMaterializerSecurityGroup":{"id":"GraphMaterializerSecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/GraphMaterializerSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/GraphMaterializerSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for graph-materializer Lambda function","securityGroupEgress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS to AWS services via VPC endpoints (DynamoDB, EventBridge, CloudWatch Logs)"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182":{"id":"to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182","path":"CCNativeStack/NeptuneInfrastructure/GraphMaterializerSecurityGroup/to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Allow Gremlin connections to Neptune","destinationSecurityGroupId":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneSecurityGroup4DAE2150","GroupId"]},"fromPort":8182,"groupId":{"Fn::GetAtt":["NeptuneInfrastructureGraphMaterializerSecurityGroupE324FDAD","GroupId"]},"ipProtocol":"tcp","toPort":8182}}}}},"SynthesisEngineSecurityGroup":{"id":"SynthesisEngineSecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/SynthesisEngineSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/SynthesisEngineSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for synthesis-engine Lambda function","securityGroupEgress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS to AWS services via VPC endpoints (DynamoDB, EventBridge, CloudWatch Logs)"}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}},"to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182":{"id":"to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182","path":"CCNativeStack/NeptuneInfrastructure/SynthesisEngineSecurityGroup/to CCNativeStackNeptuneInfrastructureNeptuneSecurityGroup570D658A:8182","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Allow Gremlin connections to Neptune","destinationSecurityGroupId":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneSecurityGroup4DAE2150","GroupId"]},"fromPort":8182,"groupId":{"Fn::GetAtt":["NeptuneInfrastructureSynthesisEngineSecurityGroup862BB426","GroupId"]},"ipProtocol":"tcp","toPort":8182}}}}},"NeptuneSubnetGroup":{"id":"NeptuneSubnetGroup","path":"CCNativeStack/NeptuneInfrastructure/NeptuneSubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_neptune.CfnDBSubnetGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Neptune::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for Neptune cluster","dbSubnetGroupName":"cc-native-neptune-subnet-group","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"tags":[{"key":"Name","value":"cc-native-neptune-subnet-group"}]}}},"NeptuneParameterGroup":{"id":"NeptuneParameterGroup","path":"CCNativeStack/NeptuneInfrastructure/NeptuneParameterGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_neptune.CfnDBClusterParameterGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Neptune::DBClusterParameterGroup","aws:cdk:cloudformation:props":{"description":"Parameter group for Neptune cluster","family":"neptune1.4","parameters":{"neptune_query_timeout":"120000","neptune_enable_audit_log":"1"}}}},"NeptuneCluster":{"id":"NeptuneCluster","path":"CCNativeStack/NeptuneInfrastructure/NeptuneCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_neptune.CfnDBCluster","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Neptune::DBCluster","aws:cdk:cloudformation:props":{"backupRetentionPeriod":7,"dbClusterIdentifier":"cc-native-neptune-cluster","dbClusterParameterGroupName":{"Ref":"NeptuneInfrastructureNeptuneParameterGroupB1C5FC2E"},"dbSubnetGroupName":{"Ref":"NeptuneInfrastructureNeptuneSubnetGroup829B75F7"},"deletionProtection":false,"enableCloudwatchLogsExports":["audit"],"iamAuthEnabled":true,"preferredBackupWindow":"03:00-04:00","preferredMaintenanceWindow":"sun:04:00-sun:05:00","storageEncrypted":true,"tags":[{"key":"Name","value":"cc-native-neptune-cluster"}],"vpcSecurityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureNeptuneSecurityGroup4DAE2150","GroupId"]}]}}},"NeptuneInstance":{"id":"NeptuneInstance","path":"CCNativeStack/NeptuneInfrastructure/NeptuneInstance","constructInfo":{"fqn":"aws-cdk-lib.aws_neptune.CfnDBInstance","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Neptune::DBInstance","aws:cdk:cloudformation:props":{"dbClusterIdentifier":{"Ref":"NeptuneInfrastructureNeptuneCluster6F50D8EC"},"dbInstanceClass":"db.r5.large","dbInstanceIdentifier":"cc-native-neptune-instance","dbSubnetGroupName":{"Ref":"NeptuneInfrastructureNeptuneSubnetGroup829B75F7"},"publiclyAccessible":false,"tags":[{"key":"Name","value":"cc-native-neptune-instance"}]}}},"NeptuneAccessRole":{"id":"NeptuneAccessRole","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAccessRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAccessRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for Lambda functions to access Neptune cluster","roleName":"cc-native-neptune-access-role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAccessRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/NeptuneAccessRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["neptune-db:ReadDataViaQuery","neptune-db:WriteDataViaQuery","neptune-db:connect"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:neptune-db:us-west-2:661268174397:",{"Ref":"NeptuneInfrastructureNeptuneCluster6F50D8EC"},"/*"]]}}],"Version":"2012-10-17"},"policyName":"NeptuneInfrastructureNeptuneAccessRoleDefaultPolicy70BE82DD","roles":[{"Ref":"NeptuneInfrastructureNeptuneAccessRole3BE029B3"}]}}}}}}},"SSMEndpoint":{"id":"SSMEndpoint","path":"CCNativeStack/NeptuneInfrastructure/SSMEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.236.0"},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/SSMEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/SSMEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CCNativeStack/NeptuneInfrastructure/SSMEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},":443"]]}}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/SSMEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureSSMEndpointSecurityGroup5899AF6F","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.ssm","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"SSMMessagesEndpoint":{"id":"SSMMessagesEndpoint","path":"CCNativeStack/NeptuneInfrastructure/SSMMessagesEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.236.0"},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/SSMMessagesEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/SSMMessagesEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CCNativeStack/NeptuneInfrastructure/SSMMessagesEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},":443"]]}}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/SSMMessagesEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureSSMMessagesEndpointSecurityGroup8DF937A8","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.ssmmessages","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"EC2MessagesEndpoint":{"id":"EC2MessagesEndpoint","path":"CCNativeStack/NeptuneInfrastructure/EC2MessagesEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.236.0"},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/EC2MessagesEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/EC2MessagesEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CCNativeStack/NeptuneInfrastructure/EC2MessagesEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},":443"]]}}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/EC2MessagesEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureEC2MessagesEndpointSecurityGroupDE1907F7","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.ec2messages","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"S3Endpoint":{"id":"S3Endpoint","path":"CCNativeStack/NeptuneInfrastructure/S3Endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/S3Endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"routeTableIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1RouteTable23335C61"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2RouteTable41D2F6EF"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".s3"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"DynamoDBEndpoint":{"id":"DynamoDBEndpoint","path":"CCNativeStack/NeptuneInfrastructure/DynamoDBEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/DynamoDBEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"routeTableIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1RouteTable23335C61"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2RouteTable41D2F6EF"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".dynamodb"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"EventBridgeEndpoint":{"id":"EventBridgeEndpoint","path":"CCNativeStack/NeptuneInfrastructure/EventBridgeEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.236.0"},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/EventBridgeEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/EventBridgeEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CCNativeStack/NeptuneInfrastructure/EventBridgeEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},":443"]]}}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/EventBridgeEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureEventBridgeEndpointSecurityGroup4236C4D5","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.events","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"CloudWatchLogsEndpoint":{"id":"CloudWatchLogsEndpoint","path":"CCNativeStack/NeptuneInfrastructure/CloudWatchLogsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.236.0"},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"CCNativeStack/NeptuneInfrastructure/CloudWatchLogsEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/CloudWatchLogsEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CCNativeStack/NeptuneInfrastructure/CloudWatchLogsEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["NeptuneInfrastructureCCNativeVpc9CABA391","CidrBlock"]},":443"]]}}],"vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}},"Resource":{"id":"Resource","path":"CCNativeStack/NeptuneInfrastructure/CloudWatchLogsEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureCloudWatchLogsEndpointSecurityGroupF0AB1F65","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.logs","subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"NeptuneInfrastructureCCNativeVpc9CABA391"}}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"CCNativeStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.236.0"},"children":{"Staging":{"id":"Staging","path":"CCNativeStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"Role":{"id":"Role","path":"CCNativeStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}},"Handler":{"id":"Handler","path":"CCNativeStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"GraphIntelligenceHandlers":{"id":"GraphIntelligenceHandlers","path":"CCNativeStack/GraphIntelligenceHandlers","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"AccountPostureStateTable":{"id":"AccountPostureStateTable","path":"CCNativeStack/GraphIntelligenceHandlers/AccountPostureStateTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/AccountPostureStateTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"tenant-posture-index","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-account-posture-state"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/GraphIntelligenceHandlers/AccountPostureStateTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"GraphMaterializationStatusTable":{"id":"GraphMaterializationStatusTable","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializationStatusTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializationStatusTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cc-native-graph-materialization-status"}}},"ScalingRole":{"id":"ScalingRole","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializationStatusTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"GraphMaterializerDlq":{"id":"GraphMaterializerDlq","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerDlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerDlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"cc-native-graph-materializer-handler-dlq"}}},"Policy":{"id":"Policy","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerDlq/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerDlq/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersSignalDetectedToGraphMaterializerRule1A475BC7","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]},"Sid":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersSignalDetectedToGraphMaterializerRuleA355D2E1"},{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersSignalCreatedToGraphMaterializerRule3158BF8B","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]},"Sid":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersSignalCreatedToGraphMaterializerRule4CD164C4"}],"Version":"2012-10-17"},"queues":[{"Ref":"GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E"}]}}}}}}},"SynthesisEngineDlq":{"id":"SynthesisEngineDlq","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineDlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineDlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"cc-native-synthesis-engine-handler-dlq"}}},"Policy":{"id":"Policy","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineDlq/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineDlq/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializedToSynthesisRule94B777F4","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["GraphIntelligenceHandlersSynthesisEngineDlq0BCDE437","Arn"]},"Sid":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializedToSynthesisRuleA5CA9D5C"}],"Version":"2012-10-17"},"queues":[{"Ref":"GraphIntelligenceHandlersSynthesisEngineDlq0BCDE437"}]}}}}}}},"GraphMaterializerRole":{"id":"GraphMaterializerRole","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for graph-materializer Lambda function","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"roleName":"cc-native-graph-materializer-role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AccountsTable81C15AE5","Arn"]},{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::GetAtt":["GraphMaterializationStatusTable","Arn"]}},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},"/index/*"]]}]},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::GetAtt":["CCNativeEventBus892049F2","Arn"]}},{"Action":["neptune-db:ReadDataViaQuery","neptune-db:WriteDataViaQuery","neptune-db:connect"],"Condition":{"Bool":{"aws:SecureTransport":"true"},"StringEquals":{"neptune-db:QueryLanguage":"gremlin"}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:neptune-db:us-west-2:661268174397:",{"Ref":"NeptuneInfrastructureNeptuneCluster6F50D8EC"},"/*"]]}}],"Version":"2012-10-17"},"policyName":"GraphIntelligenceHandlersGraphMaterializerRoleDefaultPolicy29F61D7F","roles":[{"Ref":"GraphIntelligenceHandlersGraphMaterializerRole864DFE90"}]}}}}}}},"SynthesisEngineRole":{"id":"SynthesisEngineRole","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for synthesis-engine Lambda function","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"roleName":"cc-native-synthesis-engine-role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["GraphIntelligenceHandlersSynthesisEngineDlq0BCDE437","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AccountsTable81C15AE5","Arn"]},{"Fn::GetAtt":["GraphMaterializationStatusTable","Arn"]},{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AccountPostureStateTable","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AccountPostureStateTable","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},"/index/*"]]}]},{"Action":["neptune-db:ReadDataViaQuery","neptune-db:WriteDataViaQuery","neptune-db:connect"],"Condition":{"Bool":{"aws:SecureTransport":"true"},"StringEquals":{"neptune-db:QueryLanguage":"gremlin"}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:neptune-db:us-west-2:661268174397:",{"Ref":"NeptuneInfrastructureNeptuneCluster6F50D8EC"},"/*"]]}}],"Version":"2012-10-17"},"policyName":"GraphIntelligenceHandlersSynthesisEngineRoleDefaultPolicy6372121D","roles":[{"Ref":"GraphIntelligenceHandlersSynthesisEngineRole23D96DDD"}]}}}}}}},"GraphMaterializerHandler":{"id":"GraphMaterializerHandler","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"Code":{"id":"Code","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-661268174397-us-west-2","s3Key":"6c2e123062019994a95b77105615939087ee662e18551abfb67bbb7c0bb415cf.zip"},"deadLetterConfig":{"targetArn":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]}},"environment":{"variables":{"ACCOUNTS_TABLE_NAME":{"Ref":"AccountsTable81C15AE5"},"SIGNALS_TABLE_NAME":{"Ref":"SignalsTableE8D63F6D"},"LEDGER_TABLE_NAME":{"Ref":"LedgerTable38A58B60"},"EVENT_BUS_NAME":{"Ref":"CCNativeEventBus892049F2"},"NEPTUNE_CLUSTER_ENDPOINT":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneCluster6F50D8EC","Endpoint"]},"NEPTUNE_CLUSTER_PORT":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneCluster6F50D8EC","Port"]},"ACCOUNT_POSTURE_STATE_TABLE_NAME":{"Ref":"AccountPostureStateTable"},"GRAPH_MATERIALIZATION_STATUS_TABLE_NAME":{"Ref":"GraphMaterializationStatusTable"}}},"functionName":"cc-native-graph-materializer-handler","handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerRole864DFE90","Arn"]},"runtime":"nodejs20.x","timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureGraphMaterializerSecurityGroupE324FDAD","GroupId"]}]}}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializerHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"GraphMaterializerHandler"},"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}}}},"SynthesisEngineHandler":{"id":"SynthesisEngineHandler","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"Code":{"id":"Code","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-661268174397-us-west-2","s3Key":"5f70dc10b340655b10f78604e94c8d6d39cc377389e38840f1e3682585861714.zip"},"deadLetterConfig":{"targetArn":{"Fn::GetAtt":["GraphIntelligenceHandlersSynthesisEngineDlq0BCDE437","Arn"]}},"environment":{"variables":{"ACCOUNTS_TABLE_NAME":{"Ref":"AccountsTable81C15AE5"},"SIGNALS_TABLE_NAME":{"Ref":"SignalsTableE8D63F6D"},"LEDGER_TABLE_NAME":{"Ref":"LedgerTable38A58B60"},"EVENT_BUS_NAME":{"Ref":"CCNativeEventBus892049F2"},"NEPTUNE_CLUSTER_ENDPOINT":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneCluster6F50D8EC","Endpoint"]},"NEPTUNE_CLUSTER_PORT":{"Fn::GetAtt":["NeptuneInfrastructureNeptuneCluster6F50D8EC","Port"]},"ACCOUNT_POSTURE_STATE_TABLE_NAME":{"Ref":"AccountPostureStateTable"},"GRAPH_MATERIALIZATION_STATUS_TABLE_NAME":{"Ref":"GraphMaterializationStatusTable"}}},"functionName":"cc-native-synthesis-engine-handler","handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["GraphIntelligenceHandlersSynthesisEngineRole23D96DDD","Arn"]},"runtime":"nodejs20.x","timeout":180,"vpcConfig":{"subnetIds":[{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet1SubnetA7BEE99D"},{"Ref":"NeptuneInfrastructureCCNativeVpcNeptuneIsolatedSubnet2SubnetD9369810"}],"securityGroupIds":[{"Fn::GetAtt":["NeptuneInfrastructureSynthesisEngineSecurityGroup862BB426","GroupId"]}]}}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SynthesisEngineHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"SynthesisEngineHandler"},"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}}}},"SignalDetectedToGraphMaterializerRule":{"id":"SignalDetectedToGraphMaterializerRule","path":"CCNativeStack/GraphIntelligenceHandlers/SignalDetectedToGraphMaterializerRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SignalDetectedToGraphMaterializerRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventBusName":{"Ref":"CCNativeEventBus892049F2"},"eventPattern":{"source":["cc-native.perception"],"detail-type":["SIGNAL_DETECTED"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["GraphMaterializerHandler","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]}},"retryPolicy":{"maximumRetryAttempts":2}}]}}},"AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC":{"id":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC","path":"CCNativeStack/GraphIntelligenceHandlers/SignalDetectedToGraphMaterializerRule/AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GraphMaterializerHandler","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersSignalDetectedToGraphMaterializerRule1A475BC7","Arn"]}}}}}},"SignalCreatedToGraphMaterializerRule":{"id":"SignalCreatedToGraphMaterializerRule","path":"CCNativeStack/GraphIntelligenceHandlers/SignalCreatedToGraphMaterializerRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/SignalCreatedToGraphMaterializerRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventBusName":{"Ref":"CCNativeEventBus892049F2"},"eventPattern":{"source":["cc-native.perception"],"detail-type":["SIGNAL_CREATED"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["GraphMaterializerHandler","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializerDlq875ECC3E","Arn"]}},"retryPolicy":{"maximumRetryAttempts":2}}]}}},"AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC":{"id":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC","path":"CCNativeStack/GraphIntelligenceHandlers/SignalCreatedToGraphMaterializerRule/AllowEventRuleCCNativeStackGraphIntelligenceHandlersGraphMaterializerHandler2AD3E9DC","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GraphMaterializerHandler","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersSignalCreatedToGraphMaterializerRule3158BF8B","Arn"]}}}}}},"GraphMaterializedToSynthesisRule":{"id":"GraphMaterializedToSynthesisRule","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializedToSynthesisRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializedToSynthesisRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventBusName":{"Ref":"CCNativeEventBus892049F2"},"eventPattern":{"source":["cc-native.graph"],"detail-type":["GRAPH_MATERIALIZED"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["SynthesisEngineHandler","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["GraphIntelligenceHandlersSynthesisEngineDlq0BCDE437","Arn"]}},"retryPolicy":{"maximumRetryAttempts":2}}]}}},"AllowEventRuleCCNativeStackGraphIntelligenceHandlersSynthesisEngineHandler045C593E":{"id":"AllowEventRuleCCNativeStackGraphIntelligenceHandlersSynthesisEngineHandler045C593E","path":"CCNativeStack/GraphIntelligenceHandlers/GraphMaterializedToSynthesisRule/AllowEventRuleCCNativeStackGraphIntelligenceHandlersSynthesisEngineHandler045C593E","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SynthesisEngineHandler","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["GraphIntelligenceHandlersGraphMaterializedToSynthesisRule94B777F4","Arn"]}}}}}}}},"SecurityMonitoring":{"id":"SecurityMonitoring","path":"CCNativeStack/SecurityMonitoring","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"SecurityAlertsTopic":{"id":"SecurityAlertsTopic","path":"CCNativeStack/SecurityMonitoring/SecurityAlertsTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/SecurityAlertsTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"CC Native Security Alerts","topicName":"cc-native-security-alerts"}}}}},"NeptuneUnauthorizedConnections":{"id":"NeptuneUnauthorizedConnections","path":"CCNativeStack/SecurityMonitoring/NeptuneUnauthorizedConnections","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/NeptuneUnauthorizedConnections/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"SecurityMonitoringSecurityAlertsTopic976B7E04"}],"alarmName":"cc-native-neptune-unauthorized-connections","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"DBClusterIdentifier","value":{"Ref":"NeptuneInfrastructureNeptuneCluster6F50D8EC"}}],"evaluationPeriods":1,"metricName":"DatabaseConnections","namespace":"AWS/Neptune","period":300,"statistic":"Sum","threshold":100,"treatMissingData":"notBreaching"}}}}},"GraphMaterializerErrors":{"id":"GraphMaterializerErrors","path":"CCNativeStack/SecurityMonitoring/GraphMaterializerErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/GraphMaterializerErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"SecurityMonitoringSecurityAlertsTopic976B7E04"}],"alarmName":"cc-native-graph-materializer-errors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"GraphMaterializerHandler"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"SynthesisEngineErrors":{"id":"SynthesisEngineErrors","path":"CCNativeStack/SecurityMonitoring/SynthesisEngineErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/SynthesisEngineErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"SecurityMonitoringSecurityAlertsTopic976B7E04"}],"alarmName":"cc-native-synthesis-engine-errors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"SynthesisEngineHandler"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"HighDynamoDBEndpointTraffic":{"id":"HighDynamoDBEndpointTraffic","path":"CCNativeStack/SecurityMonitoring/HighDynamoDBEndpointTraffic","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/HighDynamoDBEndpointTraffic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"SecurityMonitoringSecurityAlertsTopic976B7E04"}],"alarmName":"cc-native-high-dynamodb-endpoint-traffic","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ServiceName","value":"com.amazonaws.us-west-2.dynamodb"}],"evaluationPeriods":2,"metricName":"BytesProcessed","namespace":"AWS/PrivateLinkEndpoints","period":300,"statistic":"Sum","threshold":1000000000,"treatMissingData":"notBreaching"}}}}},"NeptuneAuditLogGroupRef":{"id":"NeptuneAuditLogGroupRef","path":"CCNativeStack/SecurityMonitoring/NeptuneAuditLogGroupRef","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"NeptuneIAMAuthFailure":{"id":"NeptuneIAMAuthFailure","path":"CCNativeStack/SecurityMonitoring/NeptuneIAMAuthFailure","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.MetricFilter","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/NeptuneIAMAuthFailure/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnMetricFilter","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::MetricFilter","aws:cdk:cloudformation:props":{"filterPattern":"\"AUTHENTICATION_FAILED\"","logGroupName":"/aws/neptune/cluster/cc-native-neptune-cluster/audit","metricTransformations":[{"metricNamespace":"CCNative/Security","metricName":"NeptuneIAMAuthFailures","metricValue":"1"}]}}}}},"NeptuneIAMAuthFailureAlarm":{"id":"NeptuneIAMAuthFailureAlarm","path":"CCNativeStack/SecurityMonitoring/NeptuneIAMAuthFailureAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/SecurityMonitoring/NeptuneIAMAuthFailureAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"SecurityMonitoringSecurityAlertsTopic976B7E04"}],"alarmName":"cc-native-neptune-iam-auth-failure","comparisonOperator":"GreaterThanOrEqualToThreshold","evaluationPeriods":1,"metricName":"NeptuneIAMAuthFailures","namespace":"CCNative/Security","period":300,"statistic":"Sum","threshold":3,"treatMissingData":"notBreaching"}}}}}}},"EvidenceLedgerBucketName":{"id":"EvidenceLedgerBucketName","path":"CCNativeStack/EvidenceLedgerBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"WorldStateSnapshotsBucketName":{"id":"WorldStateSnapshotsBucketName","path":"CCNativeStack/WorldStateSnapshotsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SchemaRegistryBucketName":{"id":"SchemaRegistryBucketName","path":"CCNativeStack/SchemaRegistryBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"ArtifactsBucketName":{"id":"ArtifactsBucketName","path":"CCNativeStack/ArtifactsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"LedgerArchivesBucketName":{"id":"LedgerArchivesBucketName","path":"CCNativeStack/LedgerArchivesBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"EventBusName":{"id":"EventBusName","path":"CCNativeStack/EventBusName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"WorldStateTableName":{"id":"WorldStateTableName","path":"CCNativeStack/WorldStateTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"EvidenceIndexTableName":{"id":"EvidenceIndexTableName","path":"CCNativeStack/EvidenceIndexTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SnapshotsIndexTableName":{"id":"SnapshotsIndexTableName","path":"CCNativeStack/SnapshotsIndexTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SchemaRegistryTableName":{"id":"SchemaRegistryTableName","path":"CCNativeStack/SchemaRegistryTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CriticalFieldRegistryTableName":{"id":"CriticalFieldRegistryTableName","path":"CCNativeStack/CriticalFieldRegistryTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"LedgerTableName":{"id":"LedgerTableName","path":"CCNativeStack/LedgerTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CacheTableName":{"id":"CacheTableName","path":"CCNativeStack/CacheTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"TenantsTableName":{"id":"TenantsTableName","path":"CCNativeStack/TenantsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AccountsTableName":{"id":"AccountsTableName","path":"CCNativeStack/AccountsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SignalsTableName":{"id":"SignalsTableName","path":"CCNativeStack/SignalsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"MethodologyTableName":{"id":"MethodologyTableName","path":"CCNativeStack/MethodologyTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AssessmentTableName":{"id":"AssessmentTableName","path":"CCNativeStack/AssessmentTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"IdentitiesTableName":{"id":"IdentitiesTableName","path":"CCNativeStack/IdentitiesTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AgentRoleArn":{"id":"AgentRoleArn","path":"CCNativeStack/AgentRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolId":{"id":"UserPoolId","path":"CCNativeStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"CCNativeStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneClusterEndpoint":{"id":"NeptuneClusterEndpoint","path":"CCNativeStack/NeptuneClusterEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneClusterPort":{"id":"NeptuneClusterPort","path":"CCNativeStack/NeptuneClusterPort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneClusterIdentifier":{"id":"NeptuneClusterIdentifier","path":"CCNativeStack/NeptuneClusterIdentifier","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneAccessRoleArn":{"id":"NeptuneAccessRoleArn","path":"CCNativeStack/NeptuneAccessRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"VpcId":{"id":"VpcId","path":"CCNativeStack/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneSubnetIds":{"id":"NeptuneSubnetIds","path":"CCNativeStack/NeptuneSubnetIds","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"NeptuneSubnetId":{"id":"NeptuneSubnetId","path":"CCNativeStack/NeptuneSubnetId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"PerceptionHandlers":{"id":"PerceptionHandlers","path":"CCNativeStack/PerceptionHandlers","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"ConnectorPollDlq":{"id":"ConnectorPollDlq","path":"CCNativeStack/PerceptionHandlers/ConnectorPollDlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollDlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"cc-native-connector-poll-handler-dlq"}}}}},"SignalDetectionDlq":{"id":"SignalDetectionDlq","path":"CCNativeStack/PerceptionHandlers/SignalDetectionDlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionDlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"cc-native-signal-detection-handler-dlq"}}},"Policy":{"id":"Policy","path":"CCNativeStack/PerceptionHandlers/SignalDetectionDlq/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionDlq/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["PerceptionHandlersConnectorPollCompletedRule339EDE78","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["PerceptionHandlersSignalDetectionDlqEC9EFCCF","Arn"]},"Sid":"AllowEventRuleCCNativeStackPerceptionHandlersConnectorPollCompletedRule6585D47A"}],"Version":"2012-10-17"},"queues":[{"Ref":"PerceptionHandlersSignalDetectionDlqEC9EFCCF"}]}}}}}}},"LifecycleInferenceDlq":{"id":"LifecycleInferenceDlq","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceDlq","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceDlq/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"cc-native-lifecycle-inference-handler-dlq"}}},"Policy":{"id":"Policy","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceDlq/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceDlq/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["PerceptionHandlersSignalDetectedRule4DCF0A68","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["PerceptionHandlersLifecycleInferenceDlq6448FBB8","Arn"]},"Sid":"AllowEventRuleCCNativeStackPerceptionHandlersSignalDetectedRule1EF2B003"}],"Version":"2012-10-17"},"queues":[{"Ref":"PerceptionHandlersLifecycleInferenceDlq6448FBB8"}]}}}}}}},"ConnectorPollHandler":{"id":"ConnectorPollHandler","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["PerceptionHandlersConnectorPollDlq14318C64","Arn"]}},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["EvidenceIndexTableCC0C8C88","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EvidenceIndexTableCC0C8C88","Arn"]},"/index/*"]]}]},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::GetAtt":["CCNativeEventBus892049F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"PerceptionHandlersConnectorPollHandlerServiceRoleDefaultPolicy4F818644","roles":[{"Ref":"PerceptionHandlersConnectorPollHandlerServiceRole81041944"}]}}}}}}},"Code":{"id":"Code","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-661268174397-us-west-2","s3Key":"e817edb026fdf06443f60a83b2a443bb1bc052934f61c2dfd96ef41942518354.zip"},"deadLetterConfig":{"targetArn":{"Fn::GetAtt":["PerceptionHandlersConnectorPollDlq14318C64","Arn"]}},"environment":{"variables":{"ACCOUNTS_TABLE_NAME":{"Ref":"AccountsTable81C15AE5"},"SIGNALS_TABLE_NAME":{"Ref":"SignalsTableE8D63F6D"},"LEDGER_TABLE_NAME":{"Ref":"LedgerTable38A58B60"},"EVIDENCE_INDEX_TABLE_NAME":{"Ref":"EvidenceIndexTableCC0C8C88"},"EVIDENCE_LEDGER_BUCKET":{"Ref":"EvidenceLedgerBucket3A5BFB25"},"EVENT_BUS_NAME":{"Ref":"CCNativeEventBus892049F2"}}},"functionName":"cc-native-connector-poll-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["PerceptionHandlersConnectorPollHandlerServiceRole81041944","Arn"]},"runtime":"nodejs20.x","timeout":900}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"ConnectorPollHandler"},"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}}}},"SignalDetectionHandler":{"id":"SignalDetectionHandler","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["PerceptionHandlersSignalDetectionDlqEC9EFCCF","Arn"]}},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EvidenceLedgerBucket3A5BFB25","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AccountsTable81C15AE5","Arn"]},{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},"/index/*"]]}]},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::GetAtt":["CCNativeEventBus892049F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"PerceptionHandlersSignalDetectionHandlerServiceRoleDefaultPolicyBE3A145F","roles":[{"Ref":"PerceptionHandlersSignalDetectionHandlerServiceRoleB8FA54A9"}]}}}}}}},"Code":{"id":"Code","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-661268174397-us-west-2","s3Key":"968e33ee76507eaf60271aef60f7bc2a1576704cb63e33f3dca55f10645b10b9.zip"},"deadLetterConfig":{"targetArn":{"Fn::GetAtt":["PerceptionHandlersSignalDetectionDlqEC9EFCCF","Arn"]}},"environment":{"variables":{"ACCOUNTS_TABLE_NAME":{"Ref":"AccountsTable81C15AE5"},"SIGNALS_TABLE_NAME":{"Ref":"SignalsTableE8D63F6D"},"LEDGER_TABLE_NAME":{"Ref":"LedgerTable38A58B60"},"EVIDENCE_INDEX_TABLE_NAME":{"Ref":"EvidenceIndexTableCC0C8C88"},"EVIDENCE_LEDGER_BUCKET":{"Ref":"EvidenceLedgerBucket3A5BFB25"},"EVENT_BUS_NAME":{"Ref":"CCNativeEventBus892049F2"}}},"functionName":"cc-native-signal-detection-handler","handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["PerceptionHandlersSignalDetectionHandlerServiceRoleB8FA54A9","Arn"]},"runtime":"nodejs20.x","timeout":900}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectionHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"SignalDetectionHandler"},"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}}}},"LifecycleInferenceHandler":{"id":"LifecycleInferenceHandler","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["PerceptionHandlersLifecycleInferenceDlq6448FBB8","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AccountsTable81C15AE5","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SignalsTableE8D63F6D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LedgerTable38A58B60","Arn"]},"/index/*"]]}]},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::GetAtt":["CCNativeEventBus892049F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"PerceptionHandlersLifecycleInferenceHandlerServiceRoleDefaultPolicy2147626F","roles":[{"Ref":"PerceptionHandlersLifecycleInferenceHandlerServiceRoleD091F351"}]}}}}}}},"Code":{"id":"Code","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-661268174397-us-west-2","s3Key":"54c23d0738aeb8f5684e3ef2bacd68527ef857722564c96e5ee17fcf8d340c03.zip"},"deadLetterConfig":{"targetArn":{"Fn::GetAtt":["PerceptionHandlersLifecycleInferenceDlq6448FBB8","Arn"]}},"environment":{"variables":{"ACCOUNTS_TABLE_NAME":{"Ref":"AccountsTable81C15AE5"},"SIGNALS_TABLE_NAME":{"Ref":"SignalsTableE8D63F6D"},"LEDGER_TABLE_NAME":{"Ref":"LedgerTable38A58B60"},"EVIDENCE_INDEX_TABLE_NAME":{"Ref":"EvidenceIndexTableCC0C8C88"},"EVIDENCE_LEDGER_BUCKET":{"Ref":"EvidenceLedgerBucket3A5BFB25"},"EVENT_BUS_NAME":{"Ref":"CCNativeEventBus892049F2"}}},"functionName":"cc-native-lifecycle-inference-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["PerceptionHandlersLifecycleInferenceHandlerServiceRoleD091F351","Arn"]},"runtime":"nodejs20.x","timeout":300}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/LifecycleInferenceHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"LifecycleInferenceHandler"},"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}}}},"ConnectorPollCompletedRule":{"id":"ConnectorPollCompletedRule","path":"CCNativeStack/PerceptionHandlers/ConnectorPollCompletedRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/ConnectorPollCompletedRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventBusName":{"Ref":"CCNativeEventBus892049F2"},"eventPattern":{"source":["cc-native.perception"],"detail-type":["CONNECTOR_POLL_COMPLETED"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["SignalDetectionHandler","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["PerceptionHandlersSignalDetectionDlqEC9EFCCF","Arn"]}},"retryPolicy":{"maximumRetryAttempts":2}}]}}},"AllowEventRuleCCNativeStackPerceptionHandlersSignalDetectionHandler86A6DCFB":{"id":"AllowEventRuleCCNativeStackPerceptionHandlersSignalDetectionHandler86A6DCFB","path":"CCNativeStack/PerceptionHandlers/ConnectorPollCompletedRule/AllowEventRuleCCNativeStackPerceptionHandlersSignalDetectionHandler86A6DCFB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SignalDetectionHandler","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["PerceptionHandlersConnectorPollCompletedRule339EDE78","Arn"]}}}}}},"SignalDetectedRule":{"id":"SignalDetectedRule","path":"CCNativeStack/PerceptionHandlers/SignalDetectedRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"CCNativeStack/PerceptionHandlers/SignalDetectedRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventBusName":{"Ref":"CCNativeEventBus892049F2"},"eventPattern":{"source":["cc-native.perception"],"detail-type":["SIGNAL_DETECTED","SIGNAL_CREATED"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["LifecycleInferenceHandler","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["PerceptionHandlersLifecycleInferenceDlq6448FBB8","Arn"]}},"retryPolicy":{"maximumRetryAttempts":2}}]}}},"AllowEventRuleCCNativeStackPerceptionHandlersLifecycleInferenceHandler109F8B97":{"id":"AllowEventRuleCCNativeStackPerceptionHandlersLifecycleInferenceHandler109F8B97","path":"CCNativeStack/PerceptionHandlers/SignalDetectedRule/AllowEventRuleCCNativeStackPerceptionHandlersLifecycleInferenceHandler109F8B97","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LifecycleInferenceHandler","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["PerceptionHandlersSignalDetectedRule4DCF0A68","Arn"]}}}}}}}},"ConnectorPollHandlerArn":{"id":"ConnectorPollHandlerArn","path":"CCNativeStack/ConnectorPollHandlerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SignalDetectionHandlerArn":{"id":"SignalDetectionHandlerArn","path":"CCNativeStack/SignalDetectionHandlerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"LifecycleInferenceHandlerArn":{"id":"LifecycleInferenceHandlerArn","path":"CCNativeStack/LifecycleInferenceHandlerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"GraphMaterializerHandlerArn":{"id":"GraphMaterializerHandlerArn","path":"CCNativeStack/GraphMaterializerHandlerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"SynthesisEngineHandlerArn":{"id":"SynthesisEngineHandlerArn","path":"CCNativeStack/SynthesisEngineHandlerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AccountPostureStateTableName":{"id":"AccountPostureStateTableName","path":"CCNativeStack/AccountPostureStateTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"GraphMaterializationStatusTableName":{"id":"GraphMaterializationStatusTableName","path":"CCNativeStack/GraphMaterializationStatusTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CCNativeStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"CCNativeStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CCNativeStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CCNativeStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}